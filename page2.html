<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Emissions Calculators</title>
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="./static/index.css"
    />
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  </head>
  <body>
    <div class="header">
      <!-- <img src="./static/assets/img1.png" alt="logo"> -->
      <img src="./static/assets/img1.png" alt="logo" onclick="window.location.href='index.html';" style="cursor: pointer;">

      <h1>GHG Emissions Calculator</h1>

    </div>
    <div class="nav">
      <div class="button-container">
        <button
          id="navigateButton1"
          class="btn btn-primary"
          onclick="window.location.href='page1.html';"
        >
          Rig GHG Emissions Calculator
        </button>
      </div>
      <div class="button-container">
        <button
          id="navigateButton2"
          class="btn btn-primary"
          onclick="window.location.href='page2.html';"
        >
          Generator GHG Emissions Calculator
        </button>
      </div>
      <div class="button-container">
        <button
          id="navigateButton3"
          class="btn btn-primary"
          onclick="window.location.href='page3.html';"
        >
        WFRD Vehicles GHG Emissions (Scope 1) Calculator
        </button>
      </div>
      <div class="button-container">
        <button
          id="navigateButton4"
          class="btn btn-primary"
          onclick="window.location.href='page4.html';"
        >
        3rd Party Shipments to and from WRFD / Customer Location (Scope 3 Cat 4 & 9 )
        </button>
      </div>
      <div class="button-container">
        <button
          id="navigateButton5"
          class="btn btn-primary"
          onclick="window.location.href='page5.html';"
        >
          Business Travel and Employee Commuting GHG Emissions Calculator
        </button>
      </div>
    </div>
    <div class="container">
      <!-- Generator Emissions Calculator Section -->
      <div class="row">
        <div>
          <p class="red-text"> 
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30">
              <polygon fill="orange" points="15,1 29,27 1,27" />
              <text x="15" y="19" font-size="20" text-anchor="middle" fill="black" font-family="Arial" dy=".3em">!</text>
            </svg>
            <b style="color: #ce1141;">
              NOTE: IF SHARING THESE ESTIMATES WITH EXTERNAL PARTIES, INCLUDING CUSTOMERS, THE FOLLOWING STATEMENT MUST BE INCLUDED ON ALL RELEVANT PAGES OR SLIDES:<br><br>
              <i>The emission data values presented are estimates based on citable and reputable industry sources, including, but not limited to, API, EPA, and/or GHG Protocol methodology. These estimates are based on standard assumptions for run times, burn rates, and other relevant factors.
              For more details or a precise calculation specific to your project, please have your Weatherford Representative contact our internal Sustainability Team.</i>
            </b>
          </p>
        </div>
        <div class="col-md-6">
          <h3>Generator Emissions Calculator (Based on Fuel Consumption)</h3>
          <form id="generatorForm">
            <div class="form-group col-sm">
              <label for="generatorFuelUnits">Select Fuel Units:</label>
              <select
                class="form-control"
                id="generatorFuelUnits"
                name="fuel_units"
              >
                <option value="Gallons">Gallons</option>
                <option value="Liters">Liters</option>
              </select>
            </div>
            <div class="form-group col-sm">
              <label for="generatorFuelAmount">Enter Fuel Amount:</label>
              <input
                type="number"
                class="form-control"
                id="generatorFuelAmount"
                name="fuel_amount"
                min="0"
              />
            </div>
            <button
              type="button"
              class="btn btn-primary col-sm"
              onclick="submitGeneratorForm()"
            >
              Calculate Emissions
            </button>
          </form>
        </div>
        <div class="col-md-6">
          <div id="generatorResults" class="mt-3"></div>
        </div>
      </div>
    </div>
        <div style = "margin-left : 350px;"><p class="red-text-index"><b style="color: #ce1141;">If you need to calculate emissions based on generator runtime, please contact the sustainability team and provide generator specs</b></p></div>
    <div class="navigation-buttons">
      <button id="homeButton" class="btn highlight-primary" onclick="window.location.href='index.html';">Home</button>
      <button id="prevButton" class="btn btn-secondary highlight-primary" style="display:none;" onclick="navigatePrev()">Previous</button>
      <button id="nextButton" class="btn btn-secondary highlight-primary" style="display:none;" onclick="navigateNext()">Next</button>
      <button id="summaryButton" class="btn btn-secondary highlight-primary" style="display:none;" onclick="showSummary()">Summary</button>
</div>

    <div class="methodology">
      <div id="methodologyTextPage2">
        <h3>Notes</h3>

        <div class="method-text">
        <h3>Generators:</h3>
        <h3>Note: </h3>
        <p>This calculator is for internal (Weatherford employees) use only.</p>

        <h3>Methodology/Disclaimers:</h3>
        <p>The generator calculations results obtained through this calculator are estimates based on emission factors published by the US EPA (Environmental Protection Agency) for stationary combustion engines based on fuel (diesel) consumption. </p>

        <p>Please refer to the Weatherford Emissions Calculator Methodology <a href="https://weatherford-my.sharepoint.com/:b:/p/leelaprasad_boddu/EWbTFp6YjmlJqRnrr45ux3kBVI-0q6Dnx0Da95ou1ysBhg?e=Zcn9Xv" target="_blank">page</a> for a more detailed methodology on how the emissions are calculated including references/links to utilized emission factors.</p>

        <p>If you need more precise emissions calculations for generators and you have the generatorâ€™s manufacturer name, model number, and/or engine specifications, please contact the Sustainability Team for a more precise calculation utilizing generator engines specifications (i.e. fuel consumption, KW, horsepower, etc.,)</p>

        <p>This calculator does not provide an output obtained through a formal LCA (Life Cycle Analysis), if you need an LCA conducted, please contact the Sustainability Team.</p>

        <h3>Guidance:</h3>
        <p>To calculate emissions, simply enter the fuel (diesel) consumption. </p>
        <p>Be sure to add the fuel consumption of all generators/engines for the desired time frame (i.e., hours, days, etc.) if you have more than one generator/engine.</p>
        </div>
        
      </div>
    </div>
    

  <script src="./static/index.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        const selectedRigs = JSON.parse(localStorage.getItem('selectedRigs')) || [];

        const buttons = [
            { id: 'navigateButton1', rig: 'page1.html' },
            { id: 'navigateButton2', rig: 'page2.html' },
            { id: 'navigateButton3', rig: 'page3.html' },
            { id: 'navigateButton4', rig: 'page4.html' },
            { id: 'navigateButton5', rig: 'page5.html' },
        ];

        const currentPage = window.location.pathname.split('/').pop();
        const currentRig = buttons.find(button => currentPage.includes(button.id.replace('navigateButton', 'page')))?.rig;
        const currentIndex = selectedRigs.indexOf(currentRig);
        console.log(currentPage, currentIndex, currentRig)


        buttons.forEach(button => {
            const navButton = document.getElementById(button.id);
            if (navButton) {
                if (selectedRigs.includes(button.rig)) {
                    navButton.classList.add('highlight');
                    navButton.classList.remove('greyed-out');
                } else {
                    navButton.classList.add('greyed-out');
                    navButton.classList.remove('highlight');
                    navButton.disabled = true;
                }
            } else {
                console.error(`Element with ID ${button.id} not found.`);
            }
        });

        if (currentIndex > 0) {
            document.getElementById('prevButton').style.display = 'inline-block';
        }
        if (currentIndex < selectedRigs.length - 1) {
            document.getElementById('nextButton').style.display = 'inline-block';
        }
        if (currentIndex === selectedRigs.length - 1) {
            document.getElementById('summaryButton').style.display = 'inline-block';
        }

        function navigatePrev() {
            if (currentIndex > 0) {
                // window.location.href = `page${currentIndex}`;
                window.location.href = selectedRigs[currentIndex-1];

            }
        }

        function navigateNext() {
            if (currentIndex < selectedRigs.length - 1) {
                // window.location.href = `page${currentIndex + 2}`;
                window.location.href = selectedRigs[currentIndex+1];

            }
        }

        window.navigatePrev = navigatePrev;
        window.navigateNext = navigateNext;
    });
</script>
  </body>
</html>
